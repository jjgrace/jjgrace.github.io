<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>1990-1999年十首金曲分享</title>
      <link href="/posts/3348715242.html"/>
      <url>/posts/3348715242.html</url>
      
        <content type="html"><![CDATA[<div style="position: relative; padding-bottom: 56.25%; height: 0;">  <video src="https://jwgod-blog.oss-cn-beijing.aliyuncs.com/video/%E9%9F%B3%E8%A7%86%E9%A2%91/1990-1999-jwgod_x264.mp4" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" controls>    Your browser does not support the video tag.  </video></div>]]></content>
      
      
      <categories>
          
          <category> 视频 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Videos </tag>
            
            <tag> Movie </tag>
            
            <tag> Music </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>minio K8S 部署</title>
      <link href="/posts/2321188352.html"/>
      <url>/posts/2321188352.html</url>
      
        <content type="html"><![CDATA[<h1 id="yaml部署方式"><a href="#yaml部署方式" class="headerlink" title="yaml部署方式"></a>yaml部署方式</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">minio-statefulset.yaml</span></span><br><span class="line">---</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: StatefulSet</span><br><span class="line">metadata:</span><br><span class="line">  name: minio</span><br><span class="line">  namespace: minio</span><br><span class="line">spec:</span><br><span class="line">  serviceName: minio</span><br><span class="line">  replicas: 4</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: minio</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: minio</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: minio</span><br><span class="line">        env:</span><br><span class="line">        - name: MINIO_ROOT_USER</span><br><span class="line">          value: &quot;admin&quot;</span><br><span class="line">        - name: MINIO_ROOT_PASSWORD</span><br><span class="line">          value: &quot;root123456&quot;</span><br><span class="line">        image: 192.168.129.33:5000/minio/minio:latest</span><br><span class="line">        imagePullPolicy: IfNotPresent</span><br><span class="line">        command:</span><br><span class="line">          - /bin/sh</span><br><span class="line">          - -c</span><br><span class="line">          - minio server --console-address &quot;:9001&quot; http://minio-&#123;0...3&#125;.minio.minio.svc.cluster.local/data</span><br><span class="line">        ports:</span><br><span class="line">        - name: data</span><br><span class="line">          containerPort: 9000</span><br><span class="line">          protocol: &quot;TCP&quot;</span><br><span class="line">        - name: console</span><br><span class="line">          containerPort: 9001</span><br><span class="line">          protocol: &quot;TCP&quot;</span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: minio-data</span><br><span class="line">          mountPath: /data</span><br><span class="line">        - name: date-config</span><br><span class="line">          mountPath: /etc/localtime</span><br><span class="line">      volumes:</span><br><span class="line">        - name: date-config</span><br><span class="line">          hostPath:</span><br><span class="line">            path: /usr/share/zoneinfo/Asia/Shanghai</span><br><span class="line">  volumeClaimTemplates:</span><br><span class="line">  - metadata:</span><br><span class="line">      name: minio-data</span><br><span class="line">    spec:</span><br><span class="line">      accessModes:</span><br><span class="line">        - ReadWriteMany</span><br><span class="line">      resources:</span><br><span class="line">        requests:</span><br><span class="line">          storage: 10Gi</span><br><span class="line">      storageClassName: managed-nfs-storage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: minio</span><br><span class="line">  namespace: minio</span><br><span class="line">  labels:</span><br><span class="line">    app: minio</span><br><span class="line">spec:</span><br><span class="line">  clusterIP: None</span><br><span class="line">  ports:</span><br><span class="line">    - port: 9000</span><br><span class="line">      name: data</span><br><span class="line">    - port: 9001</span><br><span class="line">      name: console</span><br><span class="line">  selector:</span><br><span class="line">    app: minio</span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: minio-service-svc</span><br><span class="line">  namespace: minio</span><br><span class="line">spec:</span><br><span class="line">  type: NodePort</span><br><span class="line">  ports:</span><br><span class="line">   - name: data</span><br><span class="line">     port: 9000</span><br><span class="line">     targetPort: 9000</span><br><span class="line">     protocol: TCP</span><br><span class="line">     nodePort: 30025 </span><br><span class="line">   - name: console</span><br><span class="line">     port: 9001</span><br><span class="line">     targetPort: 9001</span><br><span class="line">     protocol: TCP</span><br><span class="line">     nodePort: 30023</span><br><span class="line">  selector:</span><br><span class="line">    app: minio</span><br></pre></td></tr></table></figure><h1 id="利用-mc迁移minio数据"><a href="#利用-mc迁移minio数据" class="headerlink" title="利用 mc迁移minio数据"></a>利用 mc迁移minio数据</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">参考文档：http://wiki.sqlfans.cn/minio/minio-migr-mc.html</span></span><br><span class="line"></span><br><span class="line">源头minio节点：https://minio.xxxxx.com  </span><br><span class="line">  user：syncer</span><br><span class="line">  password：xxxxxx</span><br><span class="line">  bucket：test-public、test-private</span><br><span class="line">目标minio节点：https://oss.xxxx.com</span><br><span class="line">  user：admin</span><br><span class="line">  password：xxxxxx</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.源节点：下载最新版的 mc客户端</span></span><br><span class="line">curl -sL https://dl.min.io/client/mc/release/linux-amd64/mc -o /usr/bin/mc</span><br><span class="line">chmod +x /usr/bin/mc</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.源节点：针对2个minio节点，创建2个别名</span></span><br><span class="line">mc alias set minio1 https://minio.xxxx.com syncer xxxx --api s3v4</span><br><span class="line">mc alias set minio2 https://oss.xxxx.com admin xxxx --api s3v4</span><br><span class="line">mc alias list</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.源节点：模拟源节点（minio1）某bucket已存在文件，示例 bucket111</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mc mb minio1/test-public</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mc <span class="built_in">cp</span> /etc/hosts minio1/test-public</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mc <span class="built_in">cp</span> /etc/sysconfig minio1/test-public --recursive</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4.源节点：为目标节点（minio2）创建bucket，并利用<span class="built_in">cp</span>命令实现一次数据同步</span></span><br><span class="line">mc mb minio2/test-public</span><br><span class="line">mc mb minio2/test-private</span><br><span class="line">mc cp --recursive minio1/test-public minio2</span><br><span class="line">mc cp --recursive minio1/test-private minio2</span><br></pre></td></tr></table></figure><h1 id="minio授权用户及创建bucket"><a href="#minio授权用户及创建bucket" class="headerlink" title="minio授权用户及创建bucket"></a>minio授权用户及创建bucket</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">bucket要求：</span></span><br><span class="line">sams-private：Anonymous Access为默认</span><br><span class="line">sams-public：Anonymous Access为&#123;&quot;Prefix&quot;: &quot;*&quot;, &quot;Access&quot;: &quot;readonly&quot;&#125;</span><br><span class="line"></span><br><span class="line">1. 创建账号密码</span><br><span class="line">    shaixxx    xxx@P2023    # 生产环境，readwrite, Secret Key</span><br><span class="line">2. Policies--&gt;readwrite--&gt;Raw Policy</span><br><span class="line">&#123;</span><br><span class="line">    &quot;Version&quot;: &quot;2012-10-17&quot;,</span><br><span class="line">    &quot;Statement&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;Effect&quot;: &quot;Allow&quot;,</span><br><span class="line">            &quot;Action&quot;: [</span><br><span class="line">                &quot;s3:DeleteObject&quot;,</span><br><span class="line">                &quot;s3:GetBucketLocation&quot;,</span><br><span class="line">                &quot;s3:GetObject&quot;,</span><br><span class="line">                &quot;s3:PutObject&quot;</span><br><span class="line">            ],</span><br><span class="line">            &quot;Resource&quot;: [</span><br><span class="line">                &quot;arn:aws:s3:::sams-*&quot;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">3. 访问</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mc <span class="built_in">alias</span> <span class="built_in">set</span> shancha https://oss.xxxx.com shaicha xxxx@P2023 --api s3v4</span></span><br><span class="line">Added `shancha` successfully.</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mc <span class="built_in">alias</span> list</span></span><br><span class="line">shancha</span><br><span class="line">  URL       : https://oss.xxxx.com</span><br><span class="line">  AccessKey : shaicha</span><br><span class="line">  SecretKey : xxxx@P2023</span><br><span class="line">  API       : s3v4</span><br><span class="line">  Path      : auto</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 容器 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文件存储 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdown基本语法</title>
      <link href="/posts/1204465438.html"/>
      <url>/posts/1204465438.html</url>
      
        <content type="html"><![CDATA[<h2 id="标题"><a href="#标题" class="headerlink" title="标题:"></a>标题:</h2><ul><li><h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1></li><li><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2></li><li><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3></li><li><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4></li><li><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5></li><li><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6></li></ul><h2 id="字体"><a href="#字体" class="headerlink" title="字体:"></a>字体:</h2><ul><li><strong>加粗</strong></li><li><em>斜体</em></li><li><em><strong>斜体加粗</strong></em></li><li><del>删除线</del></li></ul><h2 id="引用"><a href="#引用" class="headerlink" title="引用:"></a>引用:</h2><blockquote><p>引用</p><blockquote><p>引用</p><blockquote><p>引用</p></blockquote></blockquote></blockquote><h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线:"></a>分割线:</h2><ul><li><h2 id="三个或者以上的-或者"><a href="#三个或者以上的-或者" class="headerlink" title="三个或者以上的-或者*"></a>三个或者以上的-或者*</h2><hr><hr><hr></li></ul><h2 id="图片"><a href="#图片" class="headerlink" title="图片:"></a>图片:</h2><p><img src="/%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80" alt="图片alt" title="图片title"><br>图片alt–&gt;是显示在图片下面的文字，相当于对图片内容的解释<br>图片title–&gt;是图片的标题，当鼠标移到图片上时显示的内容，可不加</p><h2 id="超链接"><a href="#超链接" class="headerlink" title="超链接:"></a>超链接:</h2><p><a href="%E8%B6%85%E9%93%BE%E6%8E%A5%E5%9C%B0%E5%9D%80" title="超链接title">超链接名</a>,title可不加<br><a href="http://baidu.com/">百度</a></p><h2 id="列表"><a href="#列表" class="headerlink" title="列表:"></a>列表:</h2><ul><li><p>无序列表</p><ul><li>列表内容</li></ul><ul><li>列表内容</li></ul><ul><li>列表内容</li></ul></li><li><p>有序列表</p><ol><li>列表内容</li><li>列表内容</li><li>列表内容</li></ol></li><li><p>列表嵌套<br>上一级和下一级之间敲三个空格即可</p></li></ul><h2 id="表格"><a href="#表格" class="headerlink" title="表格:"></a>表格:</h2><table><thead><tr><th>表头</th><th align="center">表头</th><th align="right">表头</th></tr></thead><tbody><tr><td>内容</td><td align="center">内容</td><td align="right">内容</td></tr><tr><td>内容</td><td align="center">内容</td><td align="right">内容</td></tr></tbody></table><h2 id="代码"><a href="#代码" class="headerlink" title="代码:"></a>代码:</h2><ul><li>单行代码<br><code>create database hero;</code></li><li>代码块<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fun()&#123;</span><br><span class="line">echo &quot;这是一句非常牛逼的代码&quot;;</span><br><span class="line">&#125;</span><br><span class="line">func();</span><br></pre></td></tr></table></figure></li></ul><h2 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h2><ul><li>示例1<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 开始</span><br><span class="line">op=&gt;operation: My Operation</span><br><span class="line">cond=&gt;condition: Yes or No?</span><br><span class="line">e=&gt;end</span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;e</span><br><span class="line">cond(no)-&gt;op</span><br></pre></td></tr></table></figure></li><li>示例2<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 开始</span><br><span class="line">e=&gt;end: 登录</span><br><span class="line">io1=&gt;inputoutput: 输入用户名密码</span><br><span class="line">sub1=&gt;subroutine: 数据库查询子类</span><br><span class="line">cond=&gt;condition: 是否有此用户</span><br><span class="line">cond2=&gt;condition: 密码是否正确</span><br><span class="line">op=&gt;operation: 读入用户信息</span><br><span class="line">st-&gt;io1-&gt;sub1-&gt;cond</span><br><span class="line">cond(yes,right)-&gt;cond2</span><br><span class="line">cond(no)-&gt;io1(right)</span><br><span class="line">cond2(yes,right)-&gt;op-&gt;e</span><br><span class="line">cond2(no)-&gt;io1</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> 运维 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>github Connection time out</title>
      <link href="/posts/1800485937.html"/>
      <url>/posts/1800485937.html</url>
      
        <content type="html"><![CDATA[<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在连接github时，执行”ssh -T git@github.com” 命令时，出现</span></span><br><span class="line">ssh: connect to host github.com port 22: Connection timed out</span><br></pre></td></tr></table></figure><h1 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在存放公钥私钥(id_rsa和id_rsa.pub)的文件里，新建config文本</span></span><br><span class="line">vim config</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">输入下面内容</span></span><br><span class="line">Host github.com</span><br><span class="line">User 注册github的邮箱</span><br><span class="line">Hostname ssh.github.com</span><br><span class="line">PreferredAuthentications publickey</span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br><span class="line">Port 443</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">最后:wq退出编辑即可</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接着再执行,出现提示回车<span class="built_in">yes</span>即可</span></span><br><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 运维 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>elasticsearch+kibana快照实现迁移及恢复</title>
      <link href="/posts/1818393960.html"/>
      <url>/posts/1818393960.html</url>
      
        <content type="html"><![CDATA[<h1 id="1-全部索引存储快照及恢复"><a href="#1-全部索引存储快照及恢复" class="headerlink" title="1. 全部索引存储快照及恢复"></a>1. 全部索引存储快照及恢复</h1><h2 id="1-1-全部索引存储快照"><a href="#1-1-全部索引存储快照" class="headerlink" title="1.1 全部索引存储快照"></a>1.1 全部索引存储快照</h2><h3 id="1-1-2-全部索引注册快照存储库"><a href="#1-1-2-全部索引注册快照存储库" class="headerlink" title="1.1.2 全部索引注册快照存储库"></a>1.1.2 全部索引注册快照存储库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PUT _snapshot/old_k8s-prod-info</span><br><span class="line">&#123;</span><br><span class="line">&quot;type&quot;: &quot;fs&quot;,</span><br><span class="line">&quot;settings&quot;: &#123;</span><br><span class="line">&quot;location&quot;: &quot;/usr/share/elasticsearch/es-back/snapshot01&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-1-2-快照全部索引"><a href="#1-1-2-快照全部索引" class="headerlink" title="1.1.2 快照全部索引"></a>1.1.2 快照全部索引</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PUT _snapshot/old_k8s-prod-info/backup_all?wait_for_completion=true</span><br></pre></td></tr></table></figure><h3 id="1-1-3-查看快照进度"><a href="#1-1-3-查看快照进度" class="headerlink" title="1.1.3 查看快照进度"></a>1.1.3 查看快照进度</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GET _snapshot/old_k8s-prod-info/backup_all/_status</span><br><span class="line">- grep state</span><br><span class="line">- started:正在同步</span><br><span class="line">- success:成功</span><br><span class="line">- failed：失败</span><br></pre></td></tr></table></figure><h2 id="1-2-恢复"><a href="#1-2-恢复" class="headerlink" title="1.2 恢复"></a>1.2 恢复</h2><h3 id="1-2-1-注册快照存储库"><a href="#1-2-1-注册快照存储库" class="headerlink" title="1.2.1 注册快照存储库"></a>1.2.1 注册快照存储库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PUT _snapshot/old_k8s-prod-info</span><br><span class="line">&#123;</span><br><span class="line">&quot;type&quot;: &quot;fs&quot;,</span><br><span class="line">&quot;settings&quot;: &#123;</span><br><span class="line">&quot;location&quot;: &quot;/usr/share/elasticsearch/es-back/snapshot01&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1-2-2-恢复全部索引"><a href="#1-2-2-恢复全部索引" class="headerlink" title="1.2.2 恢复全部索引"></a>1.2.2 恢复全部索引</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">POST _snapshot/old_k8s-prod-info/backup_all/_restore</span><br></pre></td></tr></table></figure><h3 id="1-2-3-查看快照恢复进度"><a href="#1-2-3-查看快照恢复进度" class="headerlink" title="1.2.3 查看快照恢复进度"></a>1.2.3 查看快照恢复进度</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET _cat/recovery?v</span><br></pre></td></tr></table></figure><h1 id="2-指定索引快照及恢复"><a href="#2-指定索引快照及恢复" class="headerlink" title="2. 指定索引快照及恢复"></a>2. 指定索引快照及恢复</h1><h2 id="2-1-指定索引快照"><a href="#2-1-指定索引快照" class="headerlink" title="2.1  指定索引快照"></a>2.1  指定索引快照</h2><h3 id="2-1-1-指定索引注册快照存储库"><a href="#2-1-1-指定索引注册快照存储库" class="headerlink" title="2.1.1 指定索引注册快照存储库"></a>2.1.1 指定索引注册快照存储库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PUT _snapshot/old_k8s-prod-info</span><br><span class="line">&#123;</span><br><span class="line">&quot;type&quot;: &quot;fs&quot;,</span><br><span class="line">&quot;settings&quot;: &#123;</span><br><span class="line">&quot;location&quot;: &quot;/usr/share/elasticsearch/es-back/snapshot1119&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-1-2-指定索引存储快照"><a href="#2-1-2-指定索引存储快照" class="headerlink" title="2.1.2 指定索引存储快照"></a>2.1.2 指定索引存储快照</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PUT _snapshot/old_k8s-prod-info/k8s-prod-info-2023.11.19?wait_for_completion=true</span><br><span class="line">&#123;</span><br><span class="line">&quot;indices&quot;: &quot;k8s-prod-info-2023.11.19&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-1-3-查看指定索引快照进度"><a href="#2-1-3-查看指定索引快照进度" class="headerlink" title="2.1.3 查看指定索引快照进度"></a>2.1.3 查看指定索引快照进度</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET _snapshot/old_k8s-prod-info/k8s-prod-info-2023.11.19/_status</span><br></pre></td></tr></table></figure><h2 id="2-2-恢复"><a href="#2-2-恢复" class="headerlink" title="2.2 恢复"></a>2.2 恢复</h2><h3 id="2-2-1-指定索引注册快照存储库"><a href="#2-2-1-指定索引注册快照存储库" class="headerlink" title="2.2.1 指定索引注册快照存储库"></a>2.2.1 指定索引注册快照存储库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PUT _snapshot/old_k8s-prod-info</span><br><span class="line">&#123;</span><br><span class="line">&quot;type&quot;: &quot;fs&quot;,</span><br><span class="line">&quot;settings&quot;: &#123;</span><br><span class="line">&quot;location&quot;: &quot;/usr/share/elasticsearch/es-back/snapshot1119&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-2-2-恢复指定索引"><a href="#2-2-2-恢复指定索引" class="headerlink" title="2.2.2 恢复指定索引"></a>2.2.2 恢复指定索引</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST _snapshot/old_k8s-prod-info/k8s-prod-info-2023.11.19/_restore</span><br><span class="line">&#123;</span><br><span class="line">&quot;indices&quot;: &quot;k8s-prod-info-2023.11.19&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">替换索引名称恢复</span></span><br><span class="line">POST _snapshot/old_k8s-prod-info/k8s-prod-info-2023.11.19/_restore</span><br><span class="line">&#123;</span><br><span class="line">  &quot;indices&quot;: &quot;k8s-prod-info-2023.11.19&quot;,</span><br><span class="line">  &quot;rename_pattern&quot;: &quot;k8s-prod-info-2023.11.19&quot;,</span><br><span class="line">  &quot;rename_replacement&quot;: &quot;k8s-prod-info-2023.11.19-old&quot;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="2-2-3-查看快照恢复进度"><a href="#2-2-3-查看快照恢复进度" class="headerlink" title="2.2.3 查看快照恢复进度"></a>2.2.3 查看快照恢复进度</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GET _cat/recovery?v</span><br><span class="line">- 显示100%完成</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 运维 </category>
          
          <category> efk </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ElasticSearch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql 删除重复数据</title>
      <link href="/posts/3265730413.html"/>
      <url>/posts/3265730413.html</url>
      
        <content type="html"><![CDATA[<h1 id="Mysql如何删除重复数据"><a href="#Mysql如何删除重复数据" class="headerlink" title="Mysql如何删除重复数据"></a>Mysql如何删除重复数据</h1><h2 id="项目背景："><a href="#项目背景：" class="headerlink" title="项目背景："></a>项目背景：</h2><p>在RocketMQ的消费者服务中，发现了重复消费的情况，为了处理，需先将消费者停止消费，去重消息ID重复的数据，再给消息ID设置唯一索引。</p><h3 id="方法一：使用临时表"><a href="#方法一：使用临时表" class="headerlink" title="方法一：使用临时表"></a><strong>方法一：使用临时表</strong></h3><ul><li>创建一个临时表，用于存储要保留的数据。</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> consumer_crm_record_tmp <span class="keyword">LIKE</span> consumer_crm_record;</span><br></pre></td></tr></table></figure><ul><li>将要保留的数据存储到临时表中</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> consumer_crm_record_tmp</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(id) <span class="keyword">AS</span> id,message_id,message,response</span><br><span class="line"><span class="keyword">FROM</span> consumer_crm_record</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> message_id;</span><br></pre></td></tr></table></figure><ul><li>删除原表中的数据</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span>  consumer_crm_record</span><br></pre></td></tr></table></figure><ul><li>将临时表中的数据加入到原表中</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> consumer_crm_record</span><br><span class="line"><span class="keyword">SELECT</span>  id,message_id,message,response</span><br><span class="line"><span class="keyword">FROM</span> consumer_crm_record_tmp;</span><br></pre></td></tr></table></figure><ul><li>删除临时表</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> consumer_crm_record_tmp;</span><br></pre></td></tr></table></figure><p>创建临时表的优点：</p><ul><li>简单直观：通过创建临时表，您可以明确地将要删除的数据和要保留的数据分开存储，易于理解和管理。</li><li>可读性好：临时表的使用可以使查询语句更易读，特别是对于复杂的逻辑操作。</li><li>可以灵活处理：临时表可以在多个查询之间使用，可以执行额外的操作，例如插入、更新或查询临时表的数据。</li></ul><p>创建临时表的缺点：</p><ul><li>需要额外的存储空间：创建临时表需要占用额外的存储空间，特别是在处理大量数据时可能会对磁盘空间造成一定的压力。</li><li>需要额外的操作及权限：创建、插入和删除临时表需要执行额外的数据库操作，增加了一定的复杂性。</li></ul><h3 id="方法二：使用left-join-删除（强烈推荐）"><a href="#方法二：使用left-join-删除（强烈推荐）" class="headerlink" title="方法二：使用left join 删除（强烈推荐）"></a><strong>方法二：使用left join 删除（强烈推荐）</strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> t1 </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">        consumer_crm_record t1</span><br><span class="line">        <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> ( <span class="keyword">SELECT</span> <span class="built_in">MAX</span>( id ) <span class="keyword">AS</span> max_id, message_id <span class="keyword">FROM</span> consumer_crm_record <span class="keyword">GROUP</span> <span class="keyword">BY</span> message_id ) t2 <span class="keyword">ON</span> t1.message_id <span class="operator">=</span> t2.message_id </span><br><span class="line">        <span class="keyword">AND</span> t1.id <span class="operator">=</span> t2.max_id </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">        t2.max_id <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure><p>这个查询将根据message_id进行分组，并保留每个组中的最大id。然后，它使用左连接将原始表与这些最大id进行比较。如果连接失败（即max_id为NULL），则表示该行不是具有最大id的行，因此将被删除。</p><p>LEFT JOIN的优点：</p><ul><li>可以利用索引：LEFT JOIN 可以利用索引来加速查询，特别是在连接字段上存在索引的情况下。</li><li>更高的灵活性：LEFT JOIN 可以与其他表达式和条件组合使用，使得查询可以更加灵活。</li></ul><p>LEFT JOIN的缺点：</p><ul><li>性能可能受限：当处理大量数据时，LEFT JOIN 可能会导致较慢的查询速度，尤其是在连接字段没有索引或使用了复杂的连接条件时。</li><li>查询复杂度高：使用 LEFT JOIN 进行连接查询时，需要编写较为复杂的查询语句，对于新手而言可能会比较困难。</li></ul><h3 id="方法三：使用not-in-删除"><a href="#方法三：使用not-in-删除" class="headerlink" title="方法三：使用not in 删除"></a><strong>方法三：使用not in 删除</strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> </span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line"> consumer_crm_record t1 </span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line"> id <span class="keyword">NOT</span> <span class="keyword">IN</span> ( <span class="keyword">SELECT</span> max_id <span class="keyword">FROM</span> ( <span class="keyword">SELECT</span> <span class="built_in">MAX</span>( id ) <span class="keyword">AS</span> max_id <span class="keyword">FROM</span> consumer_crm_record <span class="keyword">GROUP</span> <span class="keyword">BY</span> message_id) tmp );</span><br></pre></td></tr></table></figure><p>NOT IN的优点：</p><ul><li>简单易用：NOT IN 是一种直观简单的方式来筛选出不在指定列表中的数据。</li><li>可读性好：NOT IN 子句的语义明确，易于理解和维护。</li></ul><p>NOT IN的缺点：</p><ul><li>性能可能较低：NOT IN 子查询对于大型数据集可能会导致较慢的查询速度，尤其是在子查询中返回大量结果时。</li><li>NULL 值处理：NOT IN 子句在处理 NULL 值时需要特别注意，因为 NULL 的处理可能会导致意外的结果。</li></ul><h3 id="方法四：使用窗口函数（MySQL-8-0以上支持）"><a href="#方法四：使用窗口函数（MySQL-8-0以上支持）" class="headerlink" title="方法四：使用窗口函数（MySQL 8.0以上支持）"></a><strong>方法四：使用窗口函数（MySQL 8.0以上支持）</strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">FROM</span> consumer_crm_record</span><br><span class="line"><span class="keyword">WHERE</span> id <span class="keyword">in</span> (</span><br><span class="line">    <span class="keyword">SELECT</span> id</span><br><span class="line">    <span class="keyword">FROM</span>(</span><br><span class="line">        <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">        <span class="keyword">FROM</span> (</span><br><span class="line">            <span class="keyword">SELECT</span> <span class="built_in">ROW_NUMBER</span>() <span class="keyword">OVER</span> w <span class="keyword">AS</span> row_num,id</span><br><span class="line">            <span class="keyword">FROM</span> consumer_crm_record  <span class="keyword">where</span> message_id <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">            <span class="keyword">WINDOW</span> w <span class="keyword">AS</span> (<span class="keyword">PARTITION</span> <span class="keyword">BY</span> message_id <span class="keyword">ORDER</span> <span class="keyword">BY</span> id)</span><br><span class="line">        )t</span><br><span class="line">        <span class="keyword">WHERE</span> row_num <span class="operator">&gt;</span><span class="number">1</span></span><br><span class="line">    )e</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>窗口函数的优点：</p><ul><li>简化查询逻辑：使用窗口函数可以在单个查询中完成去重操作，而不需要使用其他复杂的子查询或连接操作。这简化了查询逻辑，使查询更易读和维护。</li><li>高效性能：窗口函数在处理大型数据集时通常比传统的子查询或连接操作更高效。窗口函数可以在单个扫描中计算结果，而不需要多次访问数据表。</li><li>保留原始数据：使用窗口函数进行去重操作时，您可以保留原始数据表中的所有列，并在结果中添加去重的标识。这使得您可以查看去重结果与原始数据之间的关系，并进行进一步的分析和处理。</li></ul><p>窗口函数的缺点：</p><ul><li>学习曲线：窗口函数是一种高级的SQL功能，相对于传统的查询语法来说，使用窗口函数可能需要一些学习和理解。如果您对窗口函数不熟悉，可能需要花费一些时间来学习和了解其语法和用法。</li><li>版本兼容性：窗口函数在MySQL中的支持是在版本8.0之后引入的。如果您使用的是较旧的MySQL版本，那么窗口函数可能不可用，您将无法使用窗口函数进行去重操作。</li><li>内存消耗：窗口函数可能需要在内存中保存一些额外的中间结果，尤其是在处理大型数据集时。这可能会导致一些额外的内存消耗。因此，在使用窗口函数进行去重操作时，需要注意内存使用情况，并确保系统具有足够的内存资源。</li></ul><h3 id="创建唯一索引"><a href="#创建唯一索引" class="headerlink" title="创建唯一索引"></a><strong>创建唯一索引</strong></h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">UNIQUE</span> INDEX idx_message_id <span class="keyword">on</span> consumer_crm_record(message_id);</span><br></pre></td></tr></table></figure><h3 id="在百万级表中执行中发现报错：1206-the-total-number-of-locks-exceeds-the-lock-table-size"><a href="#在百万级表中执行中发现报错：1206-the-total-number-of-locks-exceeds-the-lock-table-size" class="headerlink" title="在百万级表中执行中发现报错：1206- the total number of locks exceeds the lock table size"></a><strong>在百万级表中执行中发现报错：1206- the total number of locks exceeds the lock table size</strong></h3><p>innodb_buffer_pool    mysql缓冲池太小  默认为16M</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span>  variables  <span class="keyword">like</span> <span class="string">&#x27;%innodb_buffer_pool_size%&#x27;</span></span><br></pre></td></tr></table></figure><p>修改缓冲池大小为2G</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> innodb_buffer_pool_size<span class="operator">=</span><span class="number">2147483648</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用操作及示例</title>
      <link href="/posts/201088553.html"/>
      <url>/posts/201088553.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux常用操作及示例"><a href="#Linux常用操作及示例" class="headerlink" title="Linux常用操作及示例"></a>Linux常用操作及示例</h1><p>记录一些常用的linux操作以备学习</p><h2 id="终端操作"><a href="#终端操作" class="headerlink" title="终端操作"></a>终端操作</h2><h3 id="文件和目录管理"><a href="#文件和目录管理" class="headerlink" title="文件和目录管理"></a>文件和目录管理</h3><ul><li><p><code>ls</code>：列出当前目录下的文件和文件夹。<br>示例：<code>ls -l</code>命令用于以详细列表形式显示文件和目录。</p></li><li><p><code>cd</code>：切换到指定目录。<br>示例：<code>cd /home</code>命令用于切换到&#x2F;home目录。</p></li><li><p><code>pwd</code>：显示当前所在目录的路径。<br>示例：<code>pwd</code>命令用于显示当前所在的目录路径。</p></li><li><p><code>mkdir</code>：创建新目录。<br>示例：<code>mkdir myfolder</code>命令用于在当前目录下创建名为myfolder的新目录。</p></li><li><p><code>rm</code>：删除文件或目录。<br>示例：<code>rm myfile.txt</code>命令用于删除名为myfile.txt的文件。</p></li><li><p><code>cp</code>：复制文件或目录。<br>示例：<code>cp myfile.txt myfolder/</code>命令用于将myfile.txt文件复制到myfolder目录。</p></li><li><p><code>mv</code>：移动文件或目录。<br>示例：<code>mv myfile.txt myfolder/</code>命令用于将myfile.txt文件移动到myfolder目录。</p></li></ul><h3 id="文件查看和编辑"><a href="#文件查看和编辑" class="headerlink" title="文件查看和编辑"></a>文件查看和编辑</h3><ul><li><p><code>cat</code>：显示文件内容。<br>示例：<code>cat myfile.txt</code>命令用于显示myfile.txt文件的内容。</p></li><li><p><code>less</code>：分页显示文件内容。<br>示例：<code>less myfile.txt</code>命令用于以分页方式显示myfile.txt文件的内容。</p></li><li><p><code>head</code>：显示文件的前几行。<br>示例：<code>head -n 5 myfile.txt</code>命令用于显示myfile.txt文件的前5行。</p></li><li><p><code>tail</code>：显示文件的后几行。<br>示例：<code>tail -n 10 myfile.txt</code>命令用于显示myfile.txt文件的最后10行。</p></li><li><p><code>nano</code>：使用Nano编辑器编辑文件。<br>示例：<code>nano myfile.txt</code>命令用于使用Nano编辑器打开myfile.txt文件进行编辑。</p></li><li><p><code>vi</code>或<code>vim</code>：使用Vim编辑器编辑文件。<br>示例：<code>vi myfile.txt</code>命令用于使用Vim编辑器打开myfile.txt文件进行编辑。</p></li></ul><h3 id="系统信息查看"><a href="#系统信息查看" class="headerlink" title="系统信息查看"></a>系统信息查看</h3><ul><li><p><code>uname</code>：显示系统信息。<br>示例：<code>uname -a</code>命令用于显示完整的系统信息。</p></li><li><p><code>whoami</code>：显示当前登录用户。<br>示例：<code>whoami</code>命令用于显示当前登录用户的用户名。</p></li><li><p><code>top</code>：显示系统当前运行的进程和资源占用情况。<br>示例：<code>top</code>命令用于实时显示系统的运行情况。</p></li><li><p><code>free</code>：显示系统内存使用情况。<br>示例：<code>free -h</code>命令用于以人类可读的方式显示系统的内存使用情况。</p></li><li><p><code>df</code>：显示磁盘空间使用情况。<br>示例：<code>df -h</code>命令用于以人类可读的方式显示磁盘空间的使用情况。</p></li></ul><h2 id="包管理器"><a href="#包管理器" class="headerlink" title="包管理器"></a>包管理器</h2><h3 id="APT"><a href="#APT" class="headerlink" title="APT"></a>APT</h3><ul><li><p><code>apt update</code>：更新软件包列表。<br>示例：<code>apt update</code>命令用于更新可用软件包的列表。</p></li><li><p><code>apt upgrade</code>：升级已安装的软件包。<br>示例：<code>apt upgrade</code>命令用于升级所有已安装的软件包。</p></li><li><p><code>apt install</code>：安装指定的软件包。<br>示例：<code>apt install nginx</code>命令用于安装Nginx Web服务器。</p></li><li><p><code>apt remove</code>：卸载指定的软件包。<br>示例：<code>apt remove nginx</code>命令用于卸载Nginx Web服务器。</p></li><li><p><code>apt search</code>：搜索可用的软件包。<br>示例：<code>apt search python</code>命令用于搜索与关键词”python”相关的可用软件包。</p></li></ul><h3 id="YUM"><a href="#YUM" class="headerlink" title="YUM"></a>YUM</h3><ul><li><p><code>yum update</code>：更新软件包。<br>示例：<code>yum update</code>命令用于更新所有可用的软件包。</p></li><li><p><code>yum upgrade</code>：升级已安装的软件包。<br>示例：<code>yum upgrade</code>命令用于升级所有已安装的软件包。</p></li><li><p><code>yum install</code>：安装指定的软件包。<br>示例：<code>yum install httpd</code>命令用于安装Apache HTTP服务器。</p></li><li><p><code>yum remove</code>：卸载指定的软件包。<br>示例：<code>yum remove httpd</code>命令用于卸载Apache HTTP服务器。</p></li><li><p><code>yum search</code>：搜索可用的软件包。<br>示例：<code>yum search mysql</code>命令用于搜索与关键词”mysql”相关的可用软件包。</p></li></ul><h2 id="用户和权限管理"><a href="#用户和权限管理" class="headerlink" title="用户和权限管理"></a>用户和权限管理</h2><ul><li><p><code>useradd</code>：创建新用户。<br>示例：<code>useradd john</code>命令用于创建名为”john”的新用户。</p></li><li><p><code>passwd</code>：修改用户密码。<br>示例：<code>passwd john</code>命令用于修改用户”john”的密码。</p></li><li><p><code>usermod</code>：修改用户属性。<br>示例：<code>usermod -aG sudo john</code>命令用于将用户”john”添加到sudo用户组。</p></li><li><p><code>userdel</code>：删除用户。<br>示例：<code>userdel john</code>命令用于删除用户”john”。</p></li><li><p><code>sudo</code>：以超级用户权限执行命令。<br>示例：<code>sudo apt update</code>命令用于以超级用户权限更新软件包列表。</p></li><li><p><code>chmod</code>：修改文件或目录的权限。<br>示例：<code>chmod 644 myfile.txt</code>命令用于将myfile.txt文件的权限设置为644。</p></li><li><p><code>chown</code>：修改文件或目录的所有者。<br>示例：<code>chown john myfile.txt</code>命令用于将myfile.txt文件的所有者设置为用户”john”。</p></li><li><p><code>chgrp</code>：修改文件或目录的所属组。<br>示例：<code>chgrp staff myfile.txt</code>命令用于将myfile.txt文件的所属组设置为”staff”。</p></li></ul><h2 id="网络管理"><a href="#网络管理" class="headerlink" title="网络管理"></a>网络管理</h2><ul><li><p><code>ifconfig</code>：显示和配置网络接口。<br>示例：<code>ifconfig eth0</code>命令用于显示名为”eth0”的网络接口信息。</p></li><li><p><code>ping</code>：测试与另一个主机的连接。<br>示例：<code>ping google.com</code>命令用于测试与google.com主机的连接。</p></li><li><p><code>ssh</code>：通过SSH协议远程登录到另一个主机。<br>示例：<code>ssh user@example.com</code>命令用于通过SSH协议远程登录到example.com主机。</p></li><li><p><code>scp</code>：通过SSH协议在本地主机和远程主机之间复制文件。<br>示例：<code>scp myfile.txt user@example.com:/home/user/</code>命令用于将myfile.txt文件复制到example.com主机的&#x2F;home&#x2F;user&#x2F;目录。</p></li><li><p><code>wget</code>：从网络上下载文件。<br>示例：<code>wget https://example.com/file.zip</code>命令用于从example.com下载file.zip文件。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 运维 </category>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 操作系统 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
